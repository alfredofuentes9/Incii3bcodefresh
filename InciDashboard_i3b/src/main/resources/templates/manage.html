<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    
    <title>Incidence Manager</title>
    
    <!-- Bootstrap Core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css"/> 
    
</head>


<body>
<!-- Navigation Bar -->
<nav class="navbar navbar-default">
  <div class="container-fluid">
   
    <div class="navbar-header">
      <a class="navbar-brand">Dashboard</a>
    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    	<div class="navbar-form navbar-right">
    		<a href="/index" class="btn btn-primary"> <span class="glyphicon glyphicon-log-out"></span> Log out</a>
    	</div>
	</div>
  </div>
</nav>


<!-- Page content -->
<div class="cointainer-fluid">
	<div class="row">
		<div class="col-md-12" >
			<h1 class="page-header">Incidence Manager</h1>
		</div>
	</div>
	
	<div class="row">
		<div class="col-md-6">
			<div class="panel-group">
				<div class="panel panel-default">
					<div class="panel-heading">Incidence Details</div>
					<div class="panel-body">
						<p><strong>Incidence ID: </strong><span th:text="${inci.getInciId()}"></span></p>
						<p><strong>Incidence Name: </strong><span th:text="${inci.getInci_name()}"></span></p>
						<p><strong>Incidence Description: </strong><span th:text="${inci.getInci_description()}"></span></p>
						<p><strong>Agent ID: </strong><span th:text="${inci.getUsername()}"></span></p>
						<p><strong>Agent Type: </strong><span th:text="${inci.getUsertype()}"></span></p>
						<p><strong>Location: </strong><span th:text="${inci.getInci_location()}"></span></p>
						<p><strong>Extra Info: </strong><span th:text="${inci.getInci_info()}"></span></p>
						<p><strong>Tags: </strong><span th:text="${inci.tagsToStr()}"></span></p>
						<p><strong>Current State: </strong><span th:text="${inci.getStateStr()}"></span></p>
						<p><strong>Custom Fields:</strong></p>
						<p><span th:text="${inci.getCustomFieldsStr()}"></span></p>
						<p><strong>Comments: </strong></p>
						<span th:each="comment : ${inci.getComments()}">
							<p th:text="${comment}"></p>
						</span>
					</div>	
				</div>
			</div>
		</div>	<!-- div col -->
		
		<!-- Management Panel -->
		<div class="col-md-6">
			<div class="panel panel-default">
				<div class="panel-heading">Manage</div>
				<div class="panel-body">
					<form action="#" th:action="@{/manage/addIncidence}" th:object="${inci}" id="formulario" method="post">
					  <div class="form-group">
						<label for="comments"><strong>Write a comment:</strong></label>
						<input type="text" class="form-control" id="comments" placeholder="Write your comment"  th:field="*{comments}" name="commentfield"/>
					  </div>
					  <div class="form-group">
						<label for="state"><strong>Change the state</strong></label>
						<select class="form-control" id="state" name="states" th:field="*{state}">
							<option value="0"> Open </option>
							<option value="1"> In Process </option>
							<option value="2"> Closed </option>
							<option value="3"> Cancelled </option>
						</select>
					  </div>
					  <button type="submit" class="btn btn-basic">Submit</button>
					</form>
				</div>	
			</div>
			
			<form action="#" th:action="@{/manage/return}" method="post">
				<input type="submit" class="btn btn-lg btn-primary btn-block" value="Go back to dashboard"/>
			</form>
		</div> <!-- div col -->
	</div> <!-- div row -->
	
		
	<!-- Information Panel -->
	
  	
</div>

<!-- jQuery -->
<script src="js/jquery.min.js"></script>
<!-- Bootstrap Core JavaScript -->
<script src="js/bootstrap.min.js"></script>
<!-- Metis Menu Plugin JavaScript -->
<script src="js/metisMenu.min.js"></script>

</body>
</html>
